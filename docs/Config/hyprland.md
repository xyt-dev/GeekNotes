---
title: Hyprland相关配置
order: 1
---

# Hyprland相关配置

## Hyprland

### .config/hypr/hyprland.conf

```shell
# ######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #####################################################################################

# autogenerated = 1 # remove this line to remove the warning

# This is an example Hyprland config file.
# Refer to the wiki for more information.
# https://wiki.hyprland.org/Configuring/Configuring-Hyprland/

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# You can split this configuration into multiple files
# Create your files separately and then link them to this file like this:
# source = ~/.config/hypr/myColors.conf


################
### MONITORS ###
################

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,3440x1440@100,auto,auto # Use hyprctl monitor to get the correct values


###################
### MY PROGRAMS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/

# Set programs that you use
# $terminal = kitty
$terminal = wezterm
$fileManager = nautilus
# $fileManager = nemo
# $menu = rofi -show drun -show-icons
$menu = ~/.config/rofi/launchers/type-6/launcher.sh # choose theme


#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:

# exec-once = $terminal
# exec-once = nm-applet &
# exec-once = waybar & hyprpaper & firefox


#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hyprland.org/Configuring/Environment-variables/

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24


#####################
### LOOK AND FEEL ###
#####################

# Refer to https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general
general { 
    gaps_in = 3
    gaps_out = 7

    border_size = 2

    # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(ffaaccaa) rgba(ffaaccaa) 
    # col.inactive_border = rgba(595959aa)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = false 

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 15

    # Change transparency of focused and unfocused windows
    active_opacity = 1
    inactive_opacity = 1

    # deprecated?
    # drop_shadow = false
    # shadow_range = 6
    # shadow_render_power = 6
    # col.shadow = rgba(1a1a1aee)

    # https://wiki.hyprland.org/Configuring/Variables/#blur
    blur {
        enabled = false
        size = 3
        passes = 3
        
        vibrancy = 0.1696
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {
    enabled = true

    # Default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
    new_status = master
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc { 
    force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
}


#############
### INPUT ###
#############

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#gestures
gestures {
    workspace_swipe = false
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

input {
    repeat_rate = 60
    repeat_delay = 200
}


####################
### KEYBINDINGSS ###
####################

# See https://wiki.hyprland.org/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $mainMod, K, exec, $terminal
bind = $mainMod SHIFT, Q, killactive,
bind = $mainMod, Esc, exit,
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, V, togglefloating,
bind = $mainMod, R, exec, $menu
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle

# Move focus with mainMod + arrow keys
bind = $mainMod CTRL, h, movefocus, l
bind = $mainMod CTRL, l, movefocus, r
bind = $mainMod CTRL, k, movefocus, u
bind = $mainMod CTRL, j, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = Alt, 1, workspace, 1
bind = Alt, 2, workspace, 2
bind = Alt, 3, workspace, 3
bind = Alt, 4, workspace, 4
bind = Alt, 5, workspace, 5
bind = Alt, 6, workspace, 6
bind = Alt, 7, workspace, 7
bind = Alt, 8, workspace, 8
bind = Alt, 9, workspace, 9
bind = Alt, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod Alt, 1, movetoworkspace, 1
bind = $mainMod Alt, 2, movetoworkspace, 2
bind = $mainMod Alt, 3, movetoworkspace, 3
bind = $mainMod Alt, 4, movetoworkspace, 4
bind = $mainMod Alt, 5, movetoworkspace, 5
bind = $mainMod Alt, 6, movetoworkspace, 6
bind = $mainMod Alt, 7, movetoworkspace, 7
bind = $mainMod Alt, 8, movetoworkspace, 8
bind = $mainMod Alt, 9, movetoworkspace, 9
bind = $mainMod Alt, 0, movetoworkspace, 10

# Example special workspace (scratchpad)
# bind = $mainMod, S, togglespecialworkspace, magic
# bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

bind = $mainMod CTRL, left, resizeactive, -100 0
bind = $mainMod CTRL, right, resizeactive, 100 0
bind = $mainMod CTRL, up, resizeactive, 0 -100
bind = $mainMod CTRL, down, resizeactive, 0 100

bind = CTRL ALT, h, movewindow, l
bind = CTRL ALT, l, movewindow, r
bind = CTRL ALT, k, movewindow, u
bind = CTRL ALT, j, movewindow, d


##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule v1
# windowrule = float, ^(kitty)$

# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$

windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

# exec
bind = $mainMod SHIFT, C, exec, google-chrome-stable -proxy-server="127.0.0.1:7890"
bind = $mainMod SHIFT, N, exec, neovide
bind = $mainMod SHIFT, 4, exec, grim -g "$(slurp)" - | wl-copy

exec = killall -q fcitx5; fcitx5; # 输入法
# exec = killall -q clash; clash; # 魔法
exec = killall -q clash-verge; clash-verge; # 魔法
exec = killall -q swaybg; swaybg -i ~/wallpaper.png; # 背景图片(不先关闭swaybg可能在更新配置后导致内存溢出)
exec = killall -q waybar; waybar; # 状态栏

windowrule=pseudo,fcitx; make fcitx5 more stable ?

xwayland {
    force_zero_scaling = true
}

windowrulev2 = float, title:^(wezterm)$
windowrulev2 = float, title:^(Neovide)$
windowrulev2 = float, initialClass:^(.*)(Nautilus)(.*)$
windowrulev2 = float, title:^(kitty)$
windowrulev2 = float, title:^(.*)(mpv)(.*)$
windowrulev2 = float, title:^(我的足迹)$
windowrulev2 = float, title:^()$

# ######### #
#  光标主题  #
# ######### #
exec-once=hyprctl setcursor Bibata-Modern-Ice 24 # 当前只对 Wayland 原生应用有效
# 修改基于gtk的程序光标需要在 ~/.config/gtk-3.0/settings.ini 中设置: gtk-cursor-theme-name=Bibata-Modern-Ice 

```

## waybar

> 基于 [github.com/knightfallxz/Hyprland-Dots.git](https://github.com/knightfallxz/Hyprland-Dots.git) 配置

### .config/waybar/config.jsonc

```json:no-line-numbers
{
  "layer": "top",
  "height": 10,
  "margin-top": 0,
  "margin-left": 0,
  "margin-bottom": 0,
  "margin-right": 0,
  "spacing": 0,
  "modules-left": ["custom/arch", "custom/separator", "hyprland/workspaces", "custom/separator" , "cpu", "memory", "temperature"],
  "modules-center": ["custom/playerctl" ],
  "modules-right": ["tray", "battery", "pulseaudio",  "network", "custom/blueberry", "clock", "battery"],
  "custom/arch": {
    "format": "  ",
    "on-click": "~/.config/rofi/launchers/type-6/launcher.sh" // choose rofi theme
  },
  "hyprland/workspaces": {
    "all-outputs": true,
    "active-only": false,
    "on-click": "activate",
    "format": "{icon}",
    "on-scroll-up": "hyprctl dispatch workspace e+1",
    "on-scroll-down": "hyprctl dispatch workspace e-1",
    "format-icons": {
      "1": " ",
      "2": " ",
      "3": " ",
      "4": " ",
      "5": " ",
      "6": " ",
      "7": " ",
      "8": " ",
      "9": " ",
      "urgent": " ",
      "active": " ",
      "default": " "
    }
  },
  "clock": {
    "format": "<span color='#b69bf1'> </span>{:%H:%M}",
    "format-alt": "<span foreground='#b69bf1'> </span><span>{:%I:%M %p %a %d}</span>",
    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>"
  },
  "battery": {
    "bat": "BAT0",
    "interval": 10,
    "states": {
      "warning": 30,
      "critical": 15
    },
    "format": " {icon} {capacity}%",
    "format-charging": "󰂄 {capacity}%",
    "format-icons": ["", "", "", "", "", "", "", "", "", ""],
    "max-length": 25,
    "tooltip": false
  },
  "custom/separator": {
    "format": " "
  },
  "custom/blueberry": {
    "format": "  ",
    "on-click": "blueberry"
  },
  "network": {
    "interface": "wlo1",
    "format": "{ifname}",
    "format-wifi": "<span color='#90cdfa'>  </span>{essid}({signalStrength}%)",
    "format-ethernet": "{ipaddr}/{cidr} ",
    "format-disconnected": "<span color='#ff005f'>󰖪 </span>No Network",
    "on-click": "kitty nmtui"
  },
  "pulseaudio": {
    "on-click": "pactl set-sink-mute @DEFAULT_SINK@ toggle",
    "format": "<span color='#f7768e'> </span> {volume}%",
    "format-muted": "<span color='#f7768e'>ﱝ</span>",
    "format-icons": {
    "headphone": " ",
    "hands-free": "",
    "headset": " ",
    "phone": " ",
    "portable": " ",
    "car": " ",
    "default": ["奔"]
  },
  "memory": {
    "format": "<span foreground='#9ece6a'></span> {}%",
    "on-click": "kitty htop"
  },
  "cpu": {
    "format": "<span foreground='#ff005f'> </span>{usage}%",
    "on-click": "kitty htop"
  },
  "temperature": {
    "critical-threshold": 80,
    "format": "<span foreground='#5d73ca'></span> {temperatureC}°C"
  },
  "tray": {
    "icon-size": 20,
    "reverse-direction": true,
    "spacing": 6
  },
  "custom/playerctl": {
    "format": "<span>{}</span>  {icon} ",
    "return-type": "json",
    "max-length": 100,
    "format-icons": {
      "Paused": "<span foreground='#bb9af7'> </span>",
      "Playing": "<span foreground='#bb9af7'> </span>"
    },
    "escape": true,
    "exec": "playerctl -a metadata --format '{\"alt\": \"{{status}}\", \"text\": \"  {{markup_escape(title)}}\", \"tooltip\": \"{{playerName}} : {{markup_escape(title)}}\",  }' -F",
    "on-click-middle": "playerctl previous",
    "on-click": "playerctl play-pause",
    "on-click-right": "playerctl next"
  }
}
```

### .config/waybar/style.css

```css:no-line-numbers
* {
  border: none;
  font-family: 'JetBrainsMono Nerd Font' , 'Symbols Only';
  font-size: 16px;
  font-feature-settings: '"zero", "ss01", "ss02", "ss03", "ss04", "ss05", "cv31"';
  min-height: 26px;
}
window#waybar {
  background: transparent;
}
#custom-arch, #workspaces {
  border-radius: 15px;
  background-color: #191a24;
  color: #c0caf5;
  margin-top: 7px;
  margin-right: 15px;
  padding-top: 1px;
  padding-left: 10px;
  padding-right: 10px;
}
#custom-arch {
  font-size: 20px;
  margin-left: 10px;
  padding-right: 16px;
}
#workspaces button {
  background: #191a24;
  color: #c0caf5;
}
#workspaces button.active {
  color: #2ac3de;
}
#workspaces button.urgent {
  color: #ff0066;
}
#clock, #temperature, #cpu, #pulseaudio, #network, #battery , #tray, #memory ,#custom-playerctl, #custom-blueberry {
  border-radius: 15px;
  background-color: #191a24;
  color: #c0caf5;
  margin-top: 7px;
  padding-left: 9px;
  padding-right: 9px;
  margin-right: 15px;
}
#clock {
  margin-right: 10px;
}
@keyframes blink {
  to {
    background-color: #ffffff;
    color: black;
  }
}
#battery.warning:not(.charging) {
  background: #f38ba8;
  color: white;
  animation-name: blink;
  animation-duration: 0.5s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}
#tray{
  padding-right: 8px;
  padding-left: 10px;
}
```

## rofi 启动器

> 基于 [github.com/adi1090x/rofi.git](https://github.com/adi1090x/rofi.git) 配置

### launcher.sh
```shell:css:no-line-numbers
#!/usr/bin/env bash

rofi \
    -show drun \
    -theme ${dir}/${theme}.rasi
```

### style.rasi
```css:no-line-numbers
/**
 *
 * Author : Aditya Shakya (adi1090x)
 * Github : @adi1090x
 * 
 * Rofi Theme File
 * Rofi Version: 1.7.3
 **/

/*****----- Configuration -----*****/
configuration {
	modi:                       "drun,run,filebrowser,window";
    show-icons:                 true;
    display-drun:               "APPS";
    display-run:                "RUN";
    display-filebrowser:        "FILES";
    display-window:             "WINDOW";
	drun-display-format:        "{name}";
	window-format:              "{w} · {c} · {t}";
}

/*****----- Global Properties -----*****/
* {
    font:                        "JetBrainsMono Nerd Font 16";
    background:                  #180F39;
    background-alt:              #32197D;
    foreground:                  #FFFFFF;
    selected:                    #FF00F1;
    active:                      #9878FF;
    urgent:                      #7D0075;
}

/*****----- Main Window -----*****/
window {
    /* properties for window widget */
    transparency:                "real";
    location:                    center;
    anchor:                      center;
    fullscreen:                  false;
    width:                       1200px; /**/
    height:                      700px; /**/ 
    x-offset:                    0px;
    y-offset:                    0px;

    /* properties for all widgets */
    enabled:                     true;
    border-radius:               15px;
    cursor:                      "default";
    background-color:            @background;
}

/*****----- Main Box -----*****/
mainbox {
    enabled:                     true;
    spacing:                     0px;
    background-color:            transparent;
    orientation:                 horizontal;
    children:                    [ "imagebox", "listbox" ];
}

imagebox {
    padding:                     20px;
    background-color:            transparent;
    background-image:            url("~/.config/rofi/images/rofibg.png", width);
    orientation:                 vertical;
    children:                    [ "inputbar", "dummy", "mode-switcher" ];
}

listbox {
    spacing:                     20px;
    padding:                     20px;
    background-color:            transparent;
    orientation:                 vertical;
    children:                    [ "message", "listview" ];
}

dummy {
    background-color:            transparent;
}

/*****----- Inputbar -----*****/
inputbar {
    enabled:                     true;
    spacing:                     10px;
    padding:                     15px;
    border-radius:               10px;
    background-color:            @background-alt;
    text-color:                  @foreground;
    children:                    [ "textbox-prompt-colon", "entry" ];
}
textbox-prompt-colon {
    enabled:                     true;
    expand:                      false;
    str:                         "";
    background-color:            inherit;
    text-color:                  inherit;
}
entry {
    enabled:                     true;
    background-color:            inherit;
    text-color:                  inherit;
    cursor:                      text;
    placeholder:                 "Search";
    placeholder-color:           inherit;
}

/*****----- Mode Switcher -----*****/
mode-switcher{
    enabled:                     true;
    spacing:                     20px;
    background-color:            transparent;
    text-color:                  @foreground;
}
button {
    padding:                     15px;
    border-radius:               10px;
    background-color:            @background-alt;
    text-color:                  inherit;
    cursor:                      pointer;
}
button selected {
    background-color:            @selected;
    text-color:                  @foreground;
}

/*****----- Listview -----*****/
listview {
    enabled:                     true;
    columns:                     1;
    lines:                       8;
    cycle:                       true;
    dynamic:                     true;
    scrollbar:                   false;
    layout:                      vertical;
    reverse:                     false;
    fixed-height:                true;
    fixed-columns:               true;
    
    spacing:                     10px;
    background-color:            transparent;
    text-color:                  @foreground;
    cursor:                      "default";
}

/*****----- Elements -----*****/
element {
    enabled:                     true;
    spacing:                     15px;
    padding:                     8px;
    border-radius:               10px;
    background-color:            transparent;
    text-color:                  @foreground;
    cursor:                      pointer;
}
element normal.normal {
    background-color:            inherit;
    text-color:                  inherit;
}
element normal.urgent {
    background-color:            @urgent;
    text-color:                  @foreground;
}
element normal.active {
    background-color:            @active;
    text-color:                  @foreground;
}
element selected.normal {
    background-color:            @selected;
    text-color:                  @foreground;
}
element selected.urgent {
    background-color:            @urgent;
    text-color:                  @foreground;
}
element selected.active {
    background-color:            @urgent;
    text-color:                  @foreground;
}
element-icon {
    background-color:            transparent;
    text-color:                  inherit;
    size:                        32px;
    cursor:                      inherit;
}
element-text {
    background-color:            transparent;
    text-color:                  inherit;
    cursor:                      inherit;
    vertical-align:              0.5;
    horizontal-align:            0.0;
}

/*****----- Message -----*****/
message {
    background-color:            transparent;
}
textbox {
    padding:                     15px;
    border-radius:               10px;
    background-color:            @background-alt;
    text-color:                  @foreground;
    vertical-align:              0.5;
    horizontal-align:            0.0;
}
error-message {
    padding:                     15px;
    border-radius:               20px;
    background-color:            @background;
    text-color:                  @foreground;
}
```